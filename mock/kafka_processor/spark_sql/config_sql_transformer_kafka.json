{
  "aws_region": "us-east-1",
  "environment": "dev",
  "logger_name": "some_logger",
  "processor_typ": "some_processor_typ",
  "input": {
    "reader_typ": "message_broker_kafka",
    "format": "json",
    "secret_name": "...",
    "format_options": {
      "kafka.bootstrap.servers": "...",
      "kafka.security.protocol": "SSL",
      "subscribe": "...",
      "kafka.ssl.keystore.location": "/var/.jks/**.keystore.jks",
      "kafka.ssl.keystore.password": "...",
      "kafka.ssl.truststore.location": "/var/.jks/**.truststore.jks",
      "kafka.ssl.truststore.password": "...",
      "kafka.ssl.key.password": "...",
      "startingOffsets": "latest",
      "failOnDataLoss": "false"
    },
    "schema": {
      "type": "struct",
      "fields": [
        {
          "name": "timestamp",
          "type": "string",
          "nullable": true,
          "metadata": {}
        },
        {
          "name": "src_ip",
          "type": "string",
          "nullable": true,
          "metadata": {}
        },
        {
          "name": "dest_ip",
          "type": "string",
          "nullable": true,
          "metadata": {}
        },
        {
          "name": "action",
          "type": "string",
          "nullable": true,
          "metadata": {}
        },
        {
          "name": "protocol",
          "type": "string",
          "nullable": true,
          "metadata": {}
        },
        {
          "name": "bytes",
          "type": "string",
          "nullable": true,
          "metadata": {}
        }
      ]
    }
  },
  "transform": {
    "input": "raw_input",
    "conversion": [
      {
        "transform_typ": "sql",
        "transform_seq": "1",
        "transform_name": "1_cleanse_normalise_log_events",
        "transform_input": {
          "config_input_table_1": "raw_input"
        },
        "transform_output": {
          "config_output_table": "1_transform_output"
        },
        "transform_query": "/Volumes/.../1_cleanse_normalise_log_events.sql"
      },
      {
        "transform_typ": "sql",
        "transform_seq": "2",
        "transform_name": "2_transform_log_events",
        "transform_input": {
          "config_input_table_1": "1_transform_output"
        },
        "transform_output": {
          "config_output_table": "2_transform_output"
        },
        "transform_query": "/Volumes/.../2_transform_log_events.sql"
      }
    ],
    "output": "final_output"
  },
  "output": {
    "writer_typ": "message_broker_kafka",
    "secret_name": "...",
    "outputMode": "append",
    "stream_options": {
      "checkpointLocation": "/Volumes/.../data_processor/checkpoint/"
    },
    "writer_typ_options": {
      "kafka.bootstrap.servers": "...",
      "kafka.security.protocol": "SSL",
      "topic": "...",
      "kafka.ssl.keystore.location": "/var/.jks/**.keystore.jks",
      "kafka.ssl.keystore.password": "...",
      "kafka.ssl.truststore.location": "/var/.jks/**.truststore.jks",
      "kafka.ssl.truststore.password": "...",
      "kafka.ssl.key.password": "...",
      "startingOffsets": "latest"
    }
  },
  "metric" : {
    "namespace": "some_namespace",
    "metric_set": {
      "microbatch_time": {
        "typ": "gauge",
        "custom_metric_name": "metric_microbatch_total_time"
      },
      "microbatch_transformation_time": {
        "typ": "gauge",
        "custom_metric_name": "metric_microbatch_transformation_time"
      },
      "microbatch_writer_time": {
        "typ": "gauge",
        "custom_metric_name": "metric_microbatch_writer_time"
      },
      "microbatch_writer_record_count": {
        "typ": "gauge",
        "custom_metric_name": "metric_microbatch_write_record_count"
      },
      "microbatch_record_count": {
        "typ": "counter",
        "custom_metric_name": "metric_microbatch_total_record_count"
      }
    },
    "flush_interval": 30,
    "flush_batch_size": 50
  }
}
